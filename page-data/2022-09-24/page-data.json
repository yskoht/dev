{"componentChunkName":"component---src-templates-post-tsx","path":"/2022-09-24","result":{"data":{"markdownRemark":{"html":"<h1>pmdr: firestore</h1>\n<ul>\n<li>firestore のドキュメントを読んだ\n<ul>\n<li><a href=\"https://firebase.google.com/docs/firestore?hl=ja\">Firestore  |  Firebase</a></li>\n<li>ネイティブモードにした\n<ul>\n<li><a href=\"https://cloud.google.com/firestore/docs/firestore-or-datastore?authuser=2&#x26;_ga=2.187749736.-1331376434.1660652388\">ネイティブ モードと Datastore モードからの選択  |  Firestore  |  Google Cloud</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Firebase Emulator を動かせるようにした\n<ul>\n<li><a href=\"https://firebase.google.com/docs/emulator-suite\">Firebase Local Emulator Suite の概要</a></li>\n<li>node で動かすコードがいまいち書かれていないような\n<ul>\n<li><code class=\"language-text\">http://localhost:4000</code> で UI が見れる</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> initializeApp <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase-admin/app\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getFirestore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"firebase-admin/firestore\"</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">[</span><span class=\"token string\">\"FIRESTORE_EMULATOR_HOST\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"localhost:8080\"</span>\n  <span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">projectId</span><span class=\"token operator\">:</span> <span class=\"token string\">\"your-project-id\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> <span class=\"token function\">getFirestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> docRef <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"users\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"alovelace\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> docRef<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">first</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Ada\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">last</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Lovelace\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">born</span><span class=\"token operator\">:</span> <span class=\"token number\">1815</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>turborepo 1.5 で <code class=\"language-text\">turbo prune</code> が yarn 2+をサポートした。明日試す\n<ul>\n<li><a href=\"https://turborepo.org/blog/turbo-1-5-0\">Turborepo 1.5 | Turborepo</a></li>\n<li><code class=\"language-text\">yarn up -i</code> が便利なことを知った\n<ul>\n<li><a href=\"https://yarnpkg.com/cli/up\">`yarn up` | Yarn - Package Manager</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/2022-09-24"}}},"pageContext":{"slug":"/2022-09-24","prevSlug":"/2022-09-23","nextSlug":"/2022-09-25"}},"staticQueryHashes":["63159454"]}