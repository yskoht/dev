{"componentChunkName":"component---src-templates-post-tsx","path":"/2022-08-07","result":{"data":{"markdownRemark":{"html":"<h1>pmdr: Storybook の decorator</h1>\n<p>上のやつが内側にくる。</p>\n<p>preview.tsx</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> decorators <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  snackbarDecorator<span class=\"token punctuation\">,</span>\n  recoilDecorator<span class=\"token punctuation\">,</span>\n  dndDecorator<span class=\"token punctuation\">,</span>\n  themeDecorator<span class=\"token punctuation\">,</span>\n  mswDecorator<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p><a href=\"https://storybook.js.org/docs/react/writing-stories/decorators\">Decorators</a></p>\n<hr>\n<h1>pmdr: sort-keys</h1>\n<p>プロパティの順をアルファベッド順にしたかったので、\neslint で <code class=\"language-text\">sort-keys: 'error'</code> を設定した。</p>\n<p>これだけだと、TypeScript の型はソートしてくれないので、\n<code class=\"language-text\">eslint-plugin-typescript-sort-keys</code> も追加した。</p>\n<p><a href=\"https://github.com/infctr/eslint-plugin-typescript-sort-keys\">infctr/eslint-plugin-typescript-sort-keys: A linter plugin to require sorting interface and string enum keys</a></p>\n<p>（css はアルファベッド順よりよいソート順あるよなぁ</p>\n<hr>\n<h1>pmdr: ts-prune</h1>\n<p>Dead code 検出</p>\n<p><a href=\"https://github.com/nadeesha/ts-prune\">nadeesha/ts-prune: Find unused exports in a typescript project. 🛀</a></p>\n<p><code class=\"language-text\">todo</code> コメントと同じで、これも定期的に数を監視しておくと良さそう。</p>\n<hr>\n<h1>pmdr: next の eslint</h1>\n<p>デフォルトだと特定のディレクトリのコードしかリントしてくれない。</p>\n<p>next.config.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> nextConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">eslint</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">dirs</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h1>pmdr: msw の ctx.delay()</h1>\n<p><code class=\"language-text\">ctx.delay()</code> を指定しておくとレスポンスタイムをランダムにしてくれる。\nが、そのせいで Chromatic の VRT が落ちることがあるので <code class=\"language-text\">0</code> にした。</p>\n<p><a href=\"https://mswjs.io/docs/api/context/delay#implicit-response-delay\">delay() - Api - Mock Service Worker Docs</a></p>","fields":{"slug":"/2022-08-07"}}},"pageContext":{"slug":"/2022-08-07","prevSlug":"/2022-08-02","nextSlug":"/2022-08-08"}},"staticQueryHashes":["63159454"]}