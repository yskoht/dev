{"componentChunkName":"component---src-templates-post-tsx","path":"/2023-03-21","result":{"data":{"markdownRemark":{"html":"<h1>pmdr: getServerSideProps</h1>\n<ul>\n<li><a href=\"https://github.com/vercel/next.js/discussions/15787\">What is .../_next/data/development/...json doing in getServerSideProps? · vercel/next.js · Discussion #15787</a></li>\n</ul>\n<p>ドキュメント読んだはずだけど理解できてなかった。</p>\n<hr>\n<h1>pmdr: context.req in GetServerSideProps</h1>\n<ul>\n<li><a href=\"https://github.com/vercel/next.js/discussions/36271\">How can i change type of context.req in GetServerSideProps? · vercel/next.js · Discussion #36271</a></li>\n</ul>\n<p>getServerSideProps で cookie を確認して、必要な値を req に入れる。</p>\n<hr>\n<h1>misc: TypeScript の intersection types</h1>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> y<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">A</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> z<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// type B = { x: { y: string, z: string }}</span>\n<span class=\"token keyword\">const</span> b<span class=\"token operator\">:</span> <span class=\"token constant\">B</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> y<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> z<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://www.typescriptlang.org/play?ssl=10&#x26;ssc=1&#x26;pln=1&#x26;pc=1#code/C4TwDgpgBAglC8UDeAoK6oA8BcyolwGdgAnASwDsBzKAXxXpVEigCEFYoAyZNDHPAC8ipSjXqMAxgHsKxKACNc7REiy41BKAHJtAGijCd2uvSA\">https://www.typescriptlang.org/play?ssl=10&#x26;ssc=1&#x26;pln=1&#x26;pc=1#code/C4TwDgpgBAglC8UDeAoK6oA8BcyolwGdgAnASwDsBzKAXxXpVEigCEFYoAyZNDHPAC8ipSjXqMAxgHsKxKACNc7REiy41BKAHJtAGijCd2uvSA</a></p>\n<p>各プロパティの中までマージしてくれるのは知らなかった。</p>\n<hr>\n<h1>pmdr: hydration mismatch</h1>\n<ul>\n<li><a href=\"https://github.com/juliencrn/usehooks-ts/pull/251\">fix: useSessionStorage hydration mismatch by harrywebdev · Pull Request #251 · juliencrn/usehooks-ts</a></li>\n</ul>\n<p>usehooks-ts の useSessionStorage を Nextjs で使うと hydration mismatch になる。\nサーバで動いた時に session storage がないから。\n上記の PR にしてしまうと、すでに session storage に値があったとしても初期値で上書きされてしまいそう。</p>","fields":{"slug":"/2023-03-21"}}},"pageContext":{"slug":"/2023-03-21","prevSlug":"/2023-03-16","nextSlug":null}},"staticQueryHashes":["63159454"]}